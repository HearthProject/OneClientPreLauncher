plugins {
    id 'com.github.blindpirate.gogradle' version '0.7.0'
}

golang {
    packagePath = 'github.com/HearthProject/OneClientPreLauncher' // go import path of project to be built, NOT local file system path!
    goVersion = '1.9'
}

version = "0.0.1"

def ENV = System.getenv()
if (ENV.BUILD_NUMBER) {
    version = version + "." + "${System.getenv().BUILD_NUMBER}"
}

build {
    targetPlatform = ['windows-amd64', 'linux-amd64', 'linux-386', 'linux-arm', 'linux-arm64', 'darwin-amd64', 'windows-386', 'freebsd-386', 'freebsd-amd64', 'solaris-amd64']
    outputLocation = './build/out/OneClient-' + version + '-${GOOS}_${GOARCH}${GOEXE}'
}


dependencies {
    golang {
        build 'github.com/shibukawa/configdir'
    }
    golang {
        build 'github.com/jmoiron/jsonq'
    }
}
